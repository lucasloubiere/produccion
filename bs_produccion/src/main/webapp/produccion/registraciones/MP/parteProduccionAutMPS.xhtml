<ui:composition
xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui" >

    <p:messages showDetail="true" />

    <p:dataTable value="#{parteProduccionAutomaticoBeanMP.movimientosPendientes}" var="m"
                 scrollable="true" emptyMessage="No se encontraron documentos"
                 scrollHeight="120"  >

        <p:column headerText="#{msgs.tipo_documento}" style="width: 100px;" >
            <h:outputText value="#{m.codapl}" />
        </p:column>

        <p:column headerText="#{msgs.numero}"  style="width: 100px;">
            <h:outputText value="#{m.nroapl}" />
        </p:column>

        <p:column headerText="#{msgs.fecha_requerida}" style="width: 120px;" >
            <h:outputText value="#{m.fchmov}" >
                <f:convertDateTime pattern="dd/MM/yyyy"/>
            </h:outputText>
        </p:column>

        <p:column headerText="#{msgs.seleccionar}" width="60" style=" text-align: center;" >
            <p:commandButton icon="find16" id="seleMovim"
                             actionListener="#{parteProduccionAutomaticoBeanMP.seleccionarItemPendiente(m,true)}"
                             update=":formulario" process="@this" styleClass="btnTabla" />
        </p:column>

    </p:dataTable>

    <p:spacer height="10" />

    <p:dataTable id="tblDetalle" value="#{parteProduccionAutomaticoBeanMP.itemsPendiente}" var="i"
                 scrollable="true" scrollHeight="200"
                 emptyMessage="No se encontraron items pendientes" >

        <p:column headerText="#{msgs.codigo}" width="150"  >
            <h:outputText value="#{i.producto.artcod}" />
        </p:column>

        <p:column headerText="#{msgs.descripcion}" width="300" >
            <h:outputText value="#{i.descrp}" />
        </p:column>

        <p:column headerText="#{msgs.cantidad}" width="70"  >
            <h:outputText value="#{i.cantid}" style="text-align: right" >
                <f:convertNumber pattern="0.00" />
            </h:outputText>
        </p:column>

        <p:column headerText="#{msgs.um}" width="80" >
            <h:outputText value="#{i.unimed}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <p:selectBooleanCheckbox value="#{parteProduccionAutomaticoBeanMP.seleccionarTodo}" >
                    <p:ajax event="change" listener="#{parteProduccionAutomaticoBeanMP.seleccionarTodo}"
                            update=":formulario"/>
                </p:selectBooleanCheckbox>
            </f:facet>

            <p:selectBooleanCheckbox value="#{i.seleccionado}" />
        </p:column>

    </p:dataTable>




</ui:composition>